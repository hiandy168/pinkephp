define([],function(){var n={init:function(){console.log("contact_map"),require(["BMap","domReady"],function(n){function e(){o(),t(),i(),a()}function o(){var e=new n.Map("dituContent"),o=new n.Point(120.252594,29.277712);e.centerAndZoom(o,15),window.map=e}function t(){map.enableDragging(),map.enableScrollWheelZoom(),map.enableDoubleClickZoom(),map.enableKeyboard()}function i(){var e=new n.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE});map.addControl(e);var o=new n.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:1});map.addControl(o);var t=new n.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});map.addControl(t)}function a(){for(var e=0;e<l.length;e++){var o=l[e],t=o.point.split("|")[0],i=o.point.split("|")[1],a=new n.Point(t,i),d=c(o.icon),p=new n.Marker(a,{icon:d}),f=(r(e),new n.Label(o.title,{offset:new n.Size(o.icon.lb-o.icon.x+10,-20)}));p.setLabel(f),map.addOverlay(p),f.setStyle({borderColor:"#808080",color:"#333",cursor:"pointer"}),function(){var n=r(e),t=p;t.addEventListener("click",function(){this.openInfoWindow(n)}),n.addEventListener("open",function(){t.getLabel().hide()}),n.addEventListener("close",function(){t.getLabel().show()}),f.addEventListener("click",function(){t.openInfoWindow(n)}),o.isOpen&&(f.hide(),t.openInfoWindow(n))}()}}function r(e){var o=l[e],t=new n.InfoWindow("<b class='iw_poi_title' title='"+o.title+"'>"+o.title+"</b><div class='iw_poi_content'>"+o.content+"</div>");return t}function c(e){var o=new n.Icon("http://api.map.baidu.com/lbsapi/creatmap/images/us_cursor.gif",new n.Size(e.w,e.h),{imageOffset:new n.Size(-e.l,-e.t),infoWindowOffset:new n.Size(e.lb+5,1),offset:new n.Size(e.x,e.h)});return o}var l=[{title:"东阳语记伞业有限公司",content:"浙江省东阳市吴宁街道汉宁东路166号3楼",point:"120.252594|29.277712",isOpen:1,icon:{w:23,h:25,l:46,t:21,x:9,lb:12}}];e()})}};return n});