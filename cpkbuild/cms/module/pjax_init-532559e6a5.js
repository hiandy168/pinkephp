define(["./cpk_plugins/nprogress","./cpk_plugins/pjax"],function(a){var t=$(document);window.history&&window.history.pushState&&$(window).on("popstate",function(){var a=location.hash,o=a.split("#!/"),n=o[1];if(""!==n){var e=window.location.hash;""===e&&t.trigger("Jt_page_change")}}),a.configure({template:'<div class="bar" role="bar" style="background: #3388ff"><div class="peg" style="box-shadow: 0 0 10px #3388ff, 0 0 5px #3388ff;"></div></div><div class="spinner" role="spinner"><div class="spinner-icon" style="border-top-color:#3388ff;border-left-color: #3388ff;"></div></div>'}),$.support.pjax&&(t.on("click",'a[target!=_blank][target!=_self][class!="j_not_pjax"]',function(a){console.log("pjax");var t="#pjax-container";$.pjax.click(a,{container:t})}),$.pjax.defaults.timeout=6e3,$.pjax.defaults.dataType="html",t.on("pjax:send",function(){a.start()}),t.on("pjax:complete",function(){a.done()}),t.on("pjax:timeout",function(a){a.preventDefault()}),t.on("pjax:beforeReplace",function(a,t){void 0!=t[0].data&&(t[0].data="")}),t.on("pjax:success",function(a,o,n,e){if(t.trigger("Jt_page_change"),o.match("^{(.+:.+,*){1,}}$")){var o=JSON.parse(o);200==o.code?toastr.success(o.msg):0==o.status&&toastr.error(o.msg),o.data&&$.pjax({url:o.data,container:"#pjax-container"})}}))});